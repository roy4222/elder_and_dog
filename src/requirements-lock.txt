# Go2 智慧尋物系統 - Python 依賴版本鎖定檔
#
# 版本：v1.0
# 建立日期：2025/11/20
# 依據：2025/11/19 會議決議 + dev_notes 經驗教訓
#
# 使用方式：
#   uv pip install -r src/requirements-lock.txt --force-reinstall
#
# 注意：本檔案鎖定所有核心依賴版本，避免版本衝突

# ==========================================
# 核心框架
# ==========================================
# aiortc 已知問題：v1.14.0+ 與 STUN 配置有衝突，導致 SCTP 握手失敗
# 參考：dev_notes/2025-11-18-dev.md
aiortc==1.9.0

# NumPy/SciPy 版本相容性（根據 dev_notes/2025-11-19-dev.md）
numpy==1.24.4
scipy==1.8.0

# Open3D 點雲處理
open3d==0.18.0

# 音訊處理（TTS 相關）
pydub==0.25.1

# ==========================================
# PyTorch 與 TorchVision（COCO VLM 主力方案）
# ==========================================
# CUDA 11.8 版本
# 安裝指令：uv pip install torch==2.1.0 torchvision==0.16.0 --index-url https://download.pytorch.org/whl/cu118
torch==2.1.0+cu118
torchvision==0.16.0+cu118

# ==========================================
# 影像處理
# ==========================================
opencv-python==4.8.1.78
Pillow==10.1.0

# ==========================================
# Gemini API（Plan B 備案）
# ==========================================
# 僅在需要 Gemini 備案時安裝
# google-generativeai==0.3.2  # 取消註解以啟用

# ==========================================
# ROS2 相關（透過 apt 安裝，此處僅記錄）
# ==========================================
# ros-humble-desktop-full
# ros-humble-vision-msgs
# ros-humble-cv-bridge
# ros-humble-foxglove-bridge
# ros-humble-slam-toolbox
# ros-humble-nav2-bringup
# ros-humble-twist-mux

# ==========================================
# 開發工具（選用）
# ==========================================
# pytest==7.4.3
# black==23.12.0
# flake8==6.1.0

# ==========================================
# 版本驗證腳本
# ==========================================
# 執行以下指令驗證關鍵依賴版本：
#   python3 -c "import aiortc; import numpy; import scipy; import torch; print(f'aiortc: {aiortc.__version__}'); print(f'numpy: {numpy.__version__}'); print(f'scipy: {scipy.__version__}'); print(f'torch: {torch.__version__}'); print(f'CUDA Available: {torch.cuda.is_available()}')"
#
# 預期輸出：
#   aiortc: 1.9.0
#   numpy: 1.24.4
#   scipy: 1.8.0
#   torch: 2.1.0+cu118
#   CUDA Available: True
