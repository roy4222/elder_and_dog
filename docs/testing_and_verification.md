# æ¸¬è©¦è…³æœ¬èˆ‡é©—è­‰æŒ‡å—

**æª”æ¡ˆç‰ˆæœ¬ï¼š** v1.0
**å»ºç«‹æ—¥æœŸï¼š** 2025/11/18
**é©ç”¨å°è±¡ï¼š** æ‰€æœ‰é–‹ç™¼è€…

---

## ğŸ“‹ ç›®éŒ„

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [TEST.sh å¿«é€Ÿé–‹å§‹](#testsh-å¿«é€Ÿé–‹å§‹)
3. [P0 æ ¸å¿ƒåŠŸèƒ½](#p0-æ ¸å¿ƒåŠŸèƒ½)
4. [P1-P3 é ç•™åŠŸèƒ½](#p1-p3-é ç•™åŠŸèƒ½)
5. [å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)
6. [é€²éšç”¨æ³•](#é€²éšç”¨æ³•)

---

## æ¦‚è¿°

### TEST.sh æ˜¯ä»€éº¼ï¼Ÿ

`TEST.sh` æ˜¯ä¸€å€‹ Go2 æ©Ÿå™¨äººæ¸¬è©¦æ¡†æ¶ï¼Œç”¨æ–¼é©—è­‰ç³»çµ±çš„å„é …åŠŸèƒ½ã€‚å®ƒåˆ†ç‚ºå››å€‹éšæ®µå¯¦ç¾ï¼š

- **P0ï¼ˆæ ¸å¿ƒï¼‰**ï¼šåŸºæœ¬å‹•ä½œã€æ„Ÿæ¸¬å™¨ç›£æ¸¬ã€ç³»çµ±æª¢æŸ¥ âœ… **å·²å®Œæˆ**
- **P1ï¼ˆå°èˆªï¼‰**ï¼šSLAMã€Nav2 æ§åˆ¶ â³ é ç•™
- **P2ï¼ˆç‰©é«”ï¼‰**ï¼šç‰©é«”åµæ¸¬ã€å·¡é‚é‚è¼¯ â³ é ç•™
- **P3ï¼ˆç•Œé¢ï¼‰**ï¼šäº’å‹•èœå–®ã€é…ç½®ç®¡ç† â³ é ç•™

### æª”æ¡ˆä½ç½®

```
/home/roy422/elder_and_dog/TEST.sh
```

---

## TEST.sh å¿«é€Ÿé–‹å§‹

### å‰ç½®æ¢ä»¶

1. **å•Ÿå‹•æ©Ÿå™¨äººé©…å‹•**ï¼ˆçµ‚ç«¯ 1ï¼‰

```bash
cd /home/roy422/elder_and_dog
bash start_go2_simple.sh
```

è¼¸å‡ºæ‡‰é¡¯ç¤ºï¼š
```
âœ“ ç’°å¢ƒå·²æº–å‚™
========================================
  å•Ÿå‹•ä¸­... (æŒ‰ Ctrl+C åœæ­¢)
========================================
[INFO] [go2_driver_node-3]: Robot IPs: ['192.168.12.1']
[INFO] [go2_driver_node-3]: Video frame received for robot 0
```

> â„¹ï¸ èªªæ˜ï¼š  
> - è‹¥ WebRTC å°šæœªæˆåŠŸå»ºç«‹ï¼ˆä¾‹å¦‚ `/con_notify` HTTP timeoutã€data channel ä¸€ç›´åœåœ¨ `connecting`ï¼‰ï¼Œé‚£éº¼ `TEST.sh` ä¸­çš„ sit/stand/forward ç­‰å‹•ä½œæŒ‡ä»¤**å¯èƒ½ä¸æœƒç”Ÿæ•ˆ**ã€‚  
> - åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œè«‹å…ˆä¾ç…§ [webrtc_troubleshooting.md](./webrtc_troubleshooting.md) çš„æµç¨‹ï¼Œç¢ºèª `aiortc` ç‰ˆæœ¬ã€Go2 æ¨¡å¼èˆ‡ HTTP `/con_notify` æ˜¯å¦æ­£å¸¸ï¼ˆå¯ç”¨ `curl` æ¸¬è©¦ï¼‰ã€‚  
> - åœ¨ WSL2 ç’°å¢ƒä¸‹ï¼Œå¶çˆ¾æœƒé‡åˆ°ç¶²è·¯ / è™›æ“¬ç¶²å¡ç‰¹æœ‰å•é¡Œï¼Œè‹¥å¤šæ¬¡å˜—è©¦ä»ä¸ç©©å®šï¼Œå»ºè­°åœ¨åŸç”Ÿ Ubuntu æ©Ÿå™¨äº¤å‰é©—è­‰ä¸€æ¬¡ã€‚

2. **æº–å‚™æ¸¬è©¦ç’°å¢ƒ**ï¼ˆçµ‚ç«¯ 2ï¼‰

```bash
source /opt/ros/humble/setup.bash
cd /home/roy422/elder_and_dog
source install/setup.bash
```

### åŸºæœ¬ä½¿ç”¨

```bash
# é¡¯ç¤ºå¹«åŠ©
bash TEST.sh help

# æŸ¥çœ‹ç³»çµ±ç‹€æ…‹
bash TEST.sh health

# åŸ·è¡Œå–®å€‹å‘½ä»¤
bash TEST.sh sit
bash TEST.sh forward
bash TEST.sh imu
```

---

## P0 æ ¸å¿ƒåŠŸèƒ½

### ğŸ® åŸºæœ¬å‹•ä½œæ§åˆ¶

| å‘½ä»¤ | åŠŸèƒ½ | åŸ·è¡Œæ™‚é–“ |
|------|------|---------|
| `sit` | æ©Ÿå™¨ç‹—åä¸‹ï¼ˆä¸‹åŠèº«åä¸‹ï¼‰ | ç¬é–“ |
| `stand` | æ©Ÿå™¨ç‹—ç«™èµ· | ç¬é–“ |
| `balance` | å¹³è¡¡ç«™ç«‹ï¼ˆé‡è¦ï¼ï¼‰ | ç¬é–“ |

**ç¯„ä¾‹**ï¼š
```bash
bash TEST.sh sit      # åä¸‹
bash TEST.sh stand    # ç«™èµ·
bash TEST.sh balance  # å¹³è¡¡ç«™ç«‹
```

**å‹•ä½œèªªæ˜**ï¼š
- **sit**ï¼šæ©Ÿå™¨ç‹—çš„ä¸‹åŠèº«åä¸‹ï¼Œä¸ŠåŠèº«ä¿æŒç›´ç«‹
- **stand**ï¼šæ©Ÿå™¨ç‹—å®Œå…¨ç«™èµ·ï¼Œå››è‚¢ä¼¸ç›´ï¼ˆæ­£å¸¸ç«™ç«‹å§¿æ…‹ï¼‰
- **balance**ï¼šæ©Ÿå™¨ç‹—ä¿æŒå¹³è¡¡ç«™ç«‹å§¿æ…‹ï¼ˆé‹å‹•æº–å‚™ç‹€æ…‹ï¼‰

### ğŸ¬ å¨›æ¨‚å‹•ä½œ

| å‘½ä»¤ | åŠŸèƒ½ | åŸ·è¡Œæ™‚é–“ |
|------|------|---------|
| `wallow` | æ‰“æ»¾å‹•ä½œ | 1-2 ç§’ |
| `hello` | æ‰“æ‹›å‘¼ | ç¬é–“ |
| `stretch` | ä¼¸å±•èº«é«” | ç¬é–“ |
| `dance1` | èˆè¹ˆ 1 | 2-3 ç§’ |
| `dance2` | èˆè¹ˆ 2 | 2-3 ç§’ |
| `flip` | å‰ç¿» | 1-2 ç§’ |
| `jump` | å‰è·³ | 1 ç§’ |

**ç¯„ä¾‹**ï¼š
```bash
bash TEST.sh wallow   # æ‰“æ»¾
bash TEST.sh hello    # æ‰“æ‹›å‘¼
bash TEST.sh dance1   # èˆè¹ˆ 1
bash TEST.sh flip     # å‰ç¿»
```

**é æœŸè¼¸å‡º**ï¼š
```
â†’ åŸ·è¡Œï¼šæ‰“æ»¾ï¼ˆWallowï¼‰
âœ“ æŒ‡ä»¤å·²ç™¼é€
```

### ğŸš¶ ç§»å‹•æ§åˆ¶

| å‘½ä»¤ | åŠŸèƒ½ | é€Ÿåº¦ | æŒçºŒæ™‚é–“ |
|------|------|------|---------|
| `forward` | å‘å‰ç§»å‹• | 0.3 m/s | 3 ç§’ |
| `backward` | å‘å¾Œç§»å‹• | -0.3 m/s | 3 ç§’ |
| `left` | å·¦è½‰ | 0.5 rad/s | 3 ç§’ |
| `right` | å³è½‰ | -0.5 rad/s | 3 ç§’ |
| `stop` | ç«‹å³åœæ­¢ | 0 | ç¬é–“ |

**ç¯„ä¾‹**ï¼š
```bash
bash TEST.sh forward  # å‰é€² 3 ç§’
bash TEST.sh left     # å·¦è½‰ 3 ç§’
bash TEST.sh stop     # åœæ­¢
```

**é æœŸè¼¸å‡º**ï¼š
```
â†’ åŸ·è¡Œï¼šå‰é€² 3 ç§’ï¼ˆé€Ÿåº¦ 0.3 m/sï¼‰
âœ“ å‰é€²å®Œæˆ
```

**âš ï¸ æ³¨æ„**ï¼šåŸ·è¡Œç§»å‹•å‘½ä»¤å‰ç¢ºä¿å‘¨åœç’°å¢ƒå¯¬æ•ï¼

### ğŸ“Š æ„Ÿæ¸¬å™¨ç›£æ¸¬

| å‘½ä»¤ | ç›£æ¸¬é …ç›® | è¼¸å‡ºé¡å‹ | ç›£æ¸¬æ™‚é–“ |
|------|---------|---------|---------|
| `joint` | é—œç¯€ä½ç½®/é€Ÿåº¦ | æ•¸å€¼æµ | 10 ç§’ |
| `imu` | åŠ é€Ÿåº¦/è§’é€Ÿåº¦ | æ•¸å€¼æµ | 10 ç§’ |
| `lidar` | LiDAR é »ç‡ | çµ±è¨ˆè³‡è¨Š | 5 ç§’ |
| `odom` | é‡Œç¨‹è¨ˆ | æ•¸å€¼æµ | 10 ç§’ |
| `state` | æ©Ÿå™¨ç‹€æ…‹ | æ•¸å€¼æµ | 10 ç§’ |

**ç¯„ä¾‹**ï¼š
```bash
bash TEST.sh joint   # ç›£æ¸¬é—œç¯€ï¼ˆ10 ç§’è‡ªå‹•åœæ­¢ï¼‰
bash TEST.sh imu     # ç›£æ¸¬ IMUï¼ˆ10 ç§’è‡ªå‹•åœæ­¢ï¼‰
bash TEST.sh lidar   # ç›£æ¸¬ LiDAR é »ç‡ï¼ˆ5 ç§’è‡ªå‹•åœæ­¢ï¼‰
```

**é æœŸè¼¸å‡º**ï¼ˆjointï¼‰ï¼š
```
â†’ ç›£æ¸¬é—œç¯€ç‹€æ…‹ï¼ˆæŒ‰ Ctrl+C åœæ­¢ï¼‰

header:
  seq: 12345
  stamp:
    sec: 1763467364
    nsec: 123456789
  frame_id: go2_base
name:
- FL_hip_joint
- FL_thigh_joint
...
position: [0.1, -0.8, 1.2, ...]
velocity: [0.01, -0.02, 0.01, ...]
effort: [1.2, 2.3, 1.8, ...]
```

### âš™ï¸ ç³»çµ±è¨ºæ–·

| å‘½ä»¤ | ç”¨é€” | æª¢æŸ¥é …ç›® |
|------|------|---------|
| `health` | å®Œæ•´ç³»çµ±æª¢æŸ¥ | ç¯€é»ã€Topicsã€ç‰ˆæœ¬ã€è­¦å‘Š |
| `list-topics` | åˆ—å‡ºæ‰€æœ‰ topics | æ‰€æœ‰å¯ç”¨çš„ ROS2 topics |
| `list-nodes` | åˆ—å‡ºæ‰€æœ‰ç¯€é» | æ‰€æœ‰é‹è¡Œçš„ ROS2 ç¯€é» |
| `help` | é¡¯ç¤ºå¹«åŠ© | å‘½ä»¤æ¸…å–®èˆ‡ç”¨æ³• |

**ç¯„ä¾‹**ï¼š
```bash
bash TEST.sh health       # å®Œæ•´ç³»çµ±æª¢æŸ¥
bash TEST.sh list-topics  # åˆ—å‡º 13 å€‹ topics
bash TEST.sh list-nodes   # åˆ—å‡º 26 å€‹ç¯€é»
bash TEST.sh help         # é¡¯ç¤ºæ‰€æœ‰å‘½ä»¤
```

**health å‘½ä»¤è¼¸å‡ºç¤ºä¾‹**ï¼š
```
========================================
  ç³»çµ±å¥åº·æª¢æŸ¥
========================================

ğŸ“Š ç¯€é»ç‹€æ…‹ï¼š
  âœ“ go2_driver_node: é‹è¡Œä¸­
  âœ“ robot_state_publisher: é‹è¡Œä¸­
  âœ“ pointcloud_aggregator: é‹è¡Œä¸­

ğŸ“¡ Topic ç‹€æ…‹ï¼š
  âœ“ /cmd_vel: å¯ç”¨
  âœ“ /joint_states: å¯ç”¨
  âœ“ /imu: å¯ç”¨
  âœ“ /point_cloud2: å¯ç”¨

âš™ï¸  ç‰ˆæœ¬ä¿¡æ¯ï¼š
  NumPy: 1.24.4
  SciPy: 1.8.0

âš ï¸  å·²çŸ¥å•é¡Œï¼ˆé€šå¸¸å¯å¿½ç•¥ï¼‰ï¼š
  - NumPy/SciPy: å·²å‡ç´šç‚ºç›¸å®¹ç‰ˆæœ¬ï¼ˆnumpy 1.24.4ï¼‰
  - ffmpeg: è‹¥ç¼ºå¤±ï¼ŒTTS æœƒè­¦å‘Šï¼ˆéé—œéµï¼‰
  - ELEVENLABS_API_KEY: æœªè¨­å®šæ™‚ tts_node å¤±æ•—ï¼ˆéé—œéµï¼‰

========================================
âœ“ æª¢æŸ¥å®Œæˆ
```

---

## P1-P3 é ç•™åŠŸèƒ½

### P1ï¼ˆå°èˆªèˆ‡ SLAMï¼‰- â³ è¨ˆç•«ä¸­

é è¨ˆå¯¦ç¾ä»¥ä¸‹åŠŸèƒ½ï¼ˆæ¡†æ¶å·²é ç•™ï¼‰ï¼š

```bash
bash TEST.sh start-slam      # å•Ÿå‹• SLAM Toolbox
bash TEST.sh stop-slam       # åœæ­¢ SLAM
bash TEST.sh start-nav2      # å•Ÿå‹• Nav2 å°èˆª
bash TEST.sh send-goal       # ç™¼é€å°èˆªç›®æ¨™
bash TEST.sh save-map        # ä¿å­˜åœ°åœ–
bash TEST.sh load-map        # è¼‰å…¥åœ°åœ–
```

### P2ï¼ˆç‰©é«”åµæ¸¬èˆ‡å·¡é‚ï¼‰- â³ è¨ˆç•«ä¸­

é è¨ˆå¯¦ç¾ä»¥ä¸‹åŠŸèƒ½ï¼ˆæ¡†æ¶å·²é ç•™ï¼‰ï¼š

```bash
bash TEST.sh start-coco      # å•Ÿå‹• COCO ç‰©é«”åµæ¸¬
bash TEST.sh stop-coco       # åœæ­¢åµæ¸¬
bash TEST.sh show-annotated  # é¡¯ç¤ºæ¨™è¨»å½±åƒ
bash TEST.sh start-patrol    # å•Ÿå‹•è‡ªå‹•å·¡é‚
bash TEST.sh stop-patrol     # åœæ­¢å·¡é‚
```

### P3ï¼ˆäº’å‹•èœå–®èˆ‡é…ç½®ï¼‰- â³ è¨ˆç•«ä¸­

é è¨ˆå¯¦ç¾ä»¥ä¸‹åŠŸèƒ½ï¼ˆæ¡†æ¶å·²é ç•™ï¼‰ï¼š

```bash
bash TEST.sh menu            # é€²å…¥äº’å‹•å¼èœå–®
bash TEST.sh save-preset     # ä¿å­˜é…ç½®
bash TEST.sh load-preset     # è¼‰å…¥é…ç½®
```

---

## å¸¸è¦‹å•é¡Œ

### Q1ï¼šé‹è¡Œ TEST.sh æ™‚å‡ºç¾ã€ŒROS2 ç’°å¢ƒæœªè¼‰å…¥ã€

**éŒ¯èª¤è¨Šæ¯**ï¼š
```
âœ— éŒ¯èª¤ï¼šROS2 ç’°å¢ƒæœªè¼‰å…¥
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```bash
source /opt/ros/humble/setup.bash
source /home/roy422/elder_and_dog/install/setup.bash
```

### Q2ï¼šé‹è¡Œ TEST.sh æ™‚å‡ºç¾ã€ŒGo2 é©…å‹•ç¯€é»æœªé‹è¡Œã€

**éŒ¯èª¤è¨Šæ¯**ï¼š
```
âœ— éŒ¯èª¤ï¼šGo2 é©…å‹•ç¯€é»æœªé‹è¡Œ
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
å…ˆåœ¨å¦ä¸€å€‹çµ‚ç«¯å•Ÿå‹•é©…å‹•ï¼š
```bash
cd /home/roy422/elder_and_dog
bash start_go2_simple.sh
```

### Q3ï¼šæ©Ÿå™¨ç‹—ä¸éŸ¿æ‡‰å‹•ä½œå‘½ä»¤

**å¯èƒ½åŸå› **ï¼š
1. WebRTC é€£æ¥æœªå»ºç«‹
2. æ‰‹æ©Ÿ App ä»åœ¨é€£æ¥

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```bash
# æª¢æŸ¥å¥åº·ç‹€æ…‹
bash TEST.sh health

# ç¢ºèªæ©Ÿå™¨äºº IP å’Œé€£æ¥
export ROBOT_IP="192.168.12.1"

# é—œé–‰æ‰‹æ©Ÿ Appï¼Œé‡æ–°å•Ÿå‹•é©…å‹•
bash start_go2_simple.sh
```

### Q4ï¼šæ„Ÿæ¸¬å™¨ç›£æ¸¬æ²’æœ‰è¼¸å‡ºæ•¸æ“š

**å¯èƒ½åŸå› **ï¼š
1. æ„Ÿæ¸¬å™¨ç¯€é»æœªå•Ÿå‹•
2. Topic åç¨±ä¸å­˜åœ¨

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```bash
# åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ topics
bash TEST.sh list-topics

# æŸ¥çœ‹ç‰¹å®š topic æ˜¯å¦å­˜åœ¨
ros2 topic list | grep imu
```

### Q5ï¼šNumPy/SciPy ç‰ˆæœ¬è­¦å‘Š

**è­¦å‘Šè¨Šæ¯**ï¼š
```
NumPy version >=1.17.3 and <1.25.0 is required...
```

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
å·²åœ¨ç’°å¢ƒè¨­ç½®æ™‚ä¿®æ­£ã€‚é©—è­‰ï¼š
```bash
python3.10 -c "import numpy; print(numpy.__version__)"
# æ‡‰è¼¸å‡º 1.24.4
```

---

## ğŸ“š SDK å…¨éƒ¨å¯ç”¨å‹•ä½œå‘½ä»¤

æœ¬ç« ç¯€åˆ—å‡º Go2 SDKï¼ˆ`robot_commands.py`ï¼‰ä¸­å®šç¾©çš„å…¨éƒ¨å‹•ä½œå‘½ä»¤ã€‚é€™äº›å‘½ä»¤å¯ä»¥é€šé `TEST.sh` æˆ–ç›´æ¥é€šé ROS2 topic ç™¼é€åŸ·è¡Œã€‚

### ğŸ® åŸºæœ¬å§¿æ…‹æ§åˆ¶ï¼ˆPosture Controlï¼‰

ç”¨æ–¼æ”¹è®Šæ©Ÿå™¨äººçš„åŸºæœ¬å§¿æ…‹ï¼Œé€™äº›æ˜¯æœ€å¸¸ç”¨çš„å‘½ä»¤ã€‚

| å‘½ä»¤ | api_id | åŠŸèƒ½ | å‚™è¨» |
|------|--------|------|------|
| `StandUp` | 1004 | ç«™èµ· | âœ… å·²åœ¨ TEST.sh å¯¦ç¾ |
| `Sit` | 1009 | åä¸‹ | âœ… å·²åœ¨ TEST.sh å¯¦ç¾ |
| `BalanceStand` | 1002 | å¹³è¡¡ç«™ç«‹ | âœ… å·²åœ¨ TEST.sh å¯¦ç¾ |
| `StandDown` | 1005 | å¾ç«™ç«‹ç‹€æ…‹æ”¹è®Šå§¿æ…‹ | é€šå¸¸ç”¨æ–¼æº–å‚™åä¸‹ |
| `RecoveryStand` | 1006 | å¾æ‘”å€’æ¢å¾©åˆ°ç«™ç«‹ | ç·Šæ€¥æ¢å¾©å‘½ä»¤ |
| `RiseSit` | 1010 | å¾åä¸‹ç«™èµ· | èµ·èº«å‹•ä½œ |
| `Damp` | 1001 | é€²å…¥è¢«å‹•æ¨¡å¼ | âš ï¸ åœæ­¢é›»æºæ§åˆ¶ï¼Œæ…ç”¨ |

**ä½¿ç”¨ç¯„ä¾‹**ï¼š
```bash
bash TEST.sh stand    # ä½¿ç”¨ TEST.sh
# æˆ–ç›´æ¥ç”¨ ROS2ï¼š
ros2 topic pub --once /webrtc_req go2_interfaces/msg/WebRtcReq \
  "{topic: 'rt/api/sport/request', api_id: 1004}"
```

### ğŸ¬ å¨›æ¨‚èˆ‡è¡¨æƒ…å‹•ä½œï¼ˆEntertainmentï¼‰

æ©Ÿå™¨äººå¯åŸ·è¡Œçš„å¨›æ¨‚æ€§å‹•ä½œã€‚

| å‘½ä»¤ | api_id | åŠŸèƒ½ | åŸ·è¡Œæ™‚é–“ | å‚™è¨» |
|------|--------|------|---------|------|
| `Wallow` | 1021 | æ‰“æ»¾ | 1-2 ç§’ | âœ… å·²åœ¨ TEST.sh å¯¦ç¾ |
| `Hello` | 1016 | æ‰“æ‹›å‘¼ | ç¬é–“ | âœ… å·²åœ¨ TEST.sh å¯¦ç¾ |
| `Stretch` | 1017 | ä¼¸å±•èº«é«” | ç¬é–“ | âœ… å·²åœ¨ TEST.sh å¯¦ç¾ |
| `Dance1` | 1022 | èˆè¹ˆ 1 | 2-3 ç§’ | âœ… å·²åœ¨ TEST.sh å¯¦ç¾ |
| `Dance2` | 1023 | èˆè¹ˆ 2 | 2-3 ç§’ | âœ… å·²åœ¨ TEST.sh å¯¦ç¾ |
| `FrontFlip` | 1030 | å‰ç¿» | 1-2 ç§’ | âœ… å·²åœ¨ TEST.sh å¯¦ç¾ |
| `FrontJump` | 1031 | å‰è·³ | 1 ç§’ | âœ… å·²åœ¨ TEST.sh å¯¦ç¾ |
| `FrontPounce` | 1032 | å‰æ’² | 1-2 ç§’ | å¾…æ¸¬è©¦ |
| `FingerHeart` | 1036 | æ‰‹æŒ‡æ„›å¿ƒ | ç¬é–“ | å¾…æ¸¬è©¦ |
| `WiggleHips` | 1033 | æ‰­å±è‚¡ | 1-2 ç§’ | å¾…æ¸¬è©¦ |
| `Content` | 1020 | æ»¿è¶³å‹•ä½œ | ç¬é–“ | è¡¨æƒ…å‹•ä½œ |
| `Scrape` | 1029 | åˆ®æ“¦ | ç¬é–“ | å¾…æ¸¬è©¦ |

**ä½¿ç”¨ç¯„ä¾‹**ï¼š
```bash
bash TEST.sh wallow    # æ‰“æ»¾
bash TEST.sh hello     # æ‰“æ‹›å‘¼
bash TEST.sh dance1    # èˆè¹ˆ 1
bash TEST.sh flip      # å‰ç¿»
bash TEST.sh jump      # å‰è·³
```

### ğŸ… ç‰¹æŠ€å‹•ä½œï¼ˆTricks & Stuntsï¼‰

é«˜é›£åº¦å‹•ä½œï¼Œé€šå¸¸éœ€è¦è¶³å¤ çš„ç©ºé–“ã€‚

| å‘½ä»¤ | api_id | åŠŸèƒ½ | é›£åº¦ | å‚™è¨» |
|------|--------|------|------|------|
| `Handstand` | 1301 | å€’ç«‹ | â­â­â­â­â­ | é«˜é¢¨éšª |
| `MoonWalk` | 1305 | æœˆçƒæ¼«æ­¥ | â­â­â­â­ | å‘å¾Œç§»å‹• |
| `Bound` | 1304 | å½ˆè·³ | â­â­â­ | é«˜è·³èº |
| `OnesidedStep` | 1303 | å–®é‚Šæ­¥ | â­â­â­ | å–®é‚Šç§»å‹• |
| `CrossStep` | 1302 | äº¤å‰æ­¥ | â­â­â­ | äº¤å‰ç§»å‹• |

âš ï¸ **æ³¨æ„**ï¼šåŸ·è¡Œç‰¹æŠ€å‹•ä½œå‰ç¢ºä¿å‘¨åœç’°å¢ƒå¯¬æ•ï¼Œæ©Ÿå™¨äººæœ‰è¶³å¤ ç©ºé–“ï¼

### ğŸš¶ ç§»å‹•æ§åˆ¶ï¼ˆMovementï¼‰

é€™äº›å‘½ä»¤æ¶‰åŠæ­¥æ…‹å’Œç§»å‹•æ¨¡å¼ï¼Œé€šå¸¸éœ€è¦é…åˆ `/cmd_vel` topicã€‚

| å‘½ä»¤ | api_id | åŠŸèƒ½ | å‚™è¨» |
|------|--------|------|------|
| `Move` | 1008 | ç§»å‹•å‘½ä»¤ | ç”± `/cmd_vel` åƒæ•¸åŒ–ï¼ˆå·²åœ¨ TEST.sh å¯¦ç¾ï¼‰ |
| `StopMove` | 1003 | åœæ­¢ç§»å‹• | å®‰å…¨åœæ­¢ |
| `SwitchGait` | 1011 | åˆ‡æ›æ­¥æ…‹ | walk / trot / bound ç­‰ |
| `ContinuousGait` | 1019 | æŒçºŒæ­¥æ…‹ | é€£çºŒé‹å‹•æ¨¡å¼ |
| `FreeWalk` | 1045 | è‡ªç”±è¡Œèµ° | è¼ƒå®‰å…¨çš„ç§»å‹•æ¨¡å¼ |
| `CrossWalk` | 1051 | æ©«å‘è¡Œèµ° | å´å‘ç§»å‹• |
| `EconomicGait` | 1035 | ç¶“æ¿Ÿæ­¥æ…‹ | ç¯€èƒ½æ¨¡å¼ |

**ä½¿ç”¨ç¯„ä¾‹**ï¼ˆå·²åœ¨ TEST.sh å¯¦ç¾ï¼‰ï¼š
```bash
bash TEST.sh forward   # å‰é€² 3 ç§’
bash TEST.sh backward  # å¾Œé€€ 3 ç§’
bash TEST.sh left      # å·¦è½‰ 3 ç§’
bash TEST.sh right     # å³è½‰ 3 ç§’
bash TEST.sh stop      # åœæ­¢
```

### âš™ï¸ èº«é«”åƒæ•¸æ§åˆ¶ï¼ˆBody Controlï¼‰

èª¿æ•´æ©Ÿå™¨äººçš„ç‰©ç†åƒæ•¸ã€‚

| å‘½ä»¤ | api_id | åŠŸèƒ½ | åƒæ•¸ | å‚™è¨» |
|------|--------|------|------|------|
| `BodyHeight` | 1013 | èª¿æ•´èº«é«”é«˜åº¦ | 0.0-1.0ï¼ˆæ­¸ä¸€åŒ–ï¼‰ | éœ€è¦åƒæ•¸ |
| `FootRaiseHeight` | 1014 | èª¿æ•´æŠ¬è…¿é«˜åº¦ | 0.0-1.0 | éœ€è¦åƒæ•¸ |
| `SpeedLevel` | 1015 | èª¿æ•´é€Ÿåº¦ç­‰ç´š | 0-10 | éœ€è¦åƒæ•¸ |
| `Euler` | 1007 | æ­æ‹‰è§’æ§åˆ¶ | roll/pitch/yaw | éœ€è¦åƒæ•¸ |

**ä½¿ç”¨ç¯„ä¾‹**ï¼ˆéœ€è¦æ“´å±• TEST.shï¼‰ï¼š
```bash
# ç›´æ¥ç”¨ ROS2ï¼ˆç¤ºä¾‹ï¼‰
ros2 topic pub --once /webrtc_req go2_interfaces/msg/WebRtcReq \
  "{topic: 'rt/api/sport/request', api_id: 1013, parameter: '0.5'}"
```

### ğŸ” ç‹€æ…‹æŸ¥è©¢ï¼ˆGet Stateï¼‰

æŸ¥è©¢æ©Ÿå™¨äººç•¶å‰çš„ç‹€æ…‹å’Œåƒæ•¸ã€‚

| å‘½ä»¤ | api_id | åŠŸèƒ½ | è¿”å›å€¼ |
|------|--------|------|--------|
| `GetState` | 1034 | æŸ¥è©¢æ•´é«”ç‹€æ…‹ | å®Œæ•´æ©Ÿå™¨äººç‹€æ…‹ |
| `GetBodyHeight` | 1024 | æŸ¥è©¢èº«é«”é«˜åº¦ | ç•¶å‰é«˜åº¦å€¼ |
| `GetFootRaiseHeight` | 1025 | æŸ¥è©¢æŠ¬è…¿é«˜åº¦ | ç•¶å‰æŠ¬è…¿å€¼ |
| `GetSpeedLevel` | 1026 | æŸ¥è©¢é€Ÿåº¦ç­‰ç´š | ç•¶å‰é€Ÿåº¦ç­‰ç´š |

### ğŸ¯ å…¶ä»–å‘½ä»¤ï¼ˆMiscellaneousï¼‰

| å‘½ä»¤ | api_id | åŠŸèƒ½ | å‚™è¨» |
|------|--------|------|------|
| `Trigger` | 1012 | è§¸ç™¼å‘½ä»¤ | ç”¨é€”å¾…ç¢ºèª |
| `TrajectoryFollow` | 1018 | è»Œè·¡è·Ÿè¹¤ | é«˜ç´šå°èˆªåŠŸèƒ½ |
| `SwitchJoystick` | 1027 | åˆ‡æ›æ–æ¡¿æ¨¡å¼ | å¤šæ¨¡å¼æ”¯æ´ |
| `Pose` | 1028 | å§¿æ…‹æ¨¡å¼ | ç‰¹å®šå§¿æ…‹ |
| `StandOut` | 1039 | ç«™å‡ºä¾† | ç‰¹æ®Šç«™ç«‹å§¿æ…‹ |
| `Standup` | 1050 | ç«™èµ·ï¼ˆé‡è¤‡ï¼‰ | èˆ‡ StandUp é‡è¤‡ |

### ğŸ§ª æ¸¬è©¦å‘½ä»¤çš„å»ºè­°é †åº

è‹¥è¦ç³»çµ±åœ°æ¸¬è©¦æ‰€æœ‰å‘½ä»¤ï¼Œå»ºè­°æŒ‰ä»¥ä¸‹é †åºé€²è¡Œï¼š

1. **åŸºæœ¬å§¿æ…‹**ï¼ˆå®‰å…¨ã€æ˜“é©—è­‰ï¼‰
   ```bash
   bash TEST.sh sit
   bash TEST.sh stand
   bash TEST.sh balance
   ```

2. **ç°¡å–®å‹•ä½œ**ï¼ˆä½é¢¨éšªï¼‰
   ```bash
   bash TEST.sh hello
   bash TEST.sh stretch
   bash TEST.sh wallow
   ```

3. **è¤‡é›œå‹•ä½œ**ï¼ˆä¸­ç­‰é¢¨éšªï¼Œéœ€è¦ç©ºé–“ï¼‰
   ```bash
   bash TEST.sh dance1
   bash TEST.sh dance2
   bash TEST.sh flip
   bash TEST.sh jump
   ```

4. **ç‰¹æŠ€å‹•ä½œ**ï¼ˆé«˜é¢¨éšªï¼Œéœ€è¦å¯¬æ•ç©ºé–“ï¼‰
   ```bash
   # åƒ…åœ¨ç¢ºä¿å®‰å…¨çš„æƒ…æ³ä¸‹åŸ·è¡Œ
   # bash TEST.sh æœƒæ–°å¢ trick å‘½ä»¤ä»¥æ”¯æ´
   ```

---

## é€²éšç”¨æ³•

### æ‰¹æ¬¡æ¸¬è©¦

é€£çºŒæ¸¬è©¦å¤šå€‹åŠŸèƒ½ï¼š

```bash
# æ¸¬è©¦æ‰€æœ‰å‹•ä½œ
for action in sit stand balance; do
  echo "æ¸¬è©¦ $action..."
  bash TEST.sh $action
  sleep 1
done
```

### ç›£æ¸¬èˆ‡æ—¥èªŒ

å°‡è¼¸å‡ºä¿å­˜åˆ°æ–‡ä»¶ï¼š

```bash
bash TEST.sh health > /tmp/health_check.log
cat /tmp/health_check.log
```

### ç›´æ¥ä½¿ç”¨ ROS2 å‘½ä»¤

è‹¥è¦æ›´ç´°ç²’åº¦çš„æ§åˆ¶ï¼Œå¯ç›´æ¥ä½¿ç”¨ ROS2 å‘½ä»¤ï¼š

```bash
# ç™¼é€è‡ªå®šç¾©é€Ÿåº¦
ros2 topic pub /cmd_vel geometry_msgs/msg/Twist \
  "{linear: {x: 0.5}, angular: {z: 0.2}}" -r 10

# ç›£æ¸¬ topic é »ç‡
ros2 topic hz /joint_states

# æŸ¥çœ‹ topic æ•¸æ“š
ros2 topic echo /imu
```

### ä½¿ç”¨ RViz é€²è¡Œå¯è¦–åŒ–

```bash
# å•Ÿå‹• RVizï¼ˆè‹¥é©…å‹•å·²é‹è¡Œï¼‰
rviz2

# åœ¨ RViz ä¸­ï¼š
# 1. è¨­å®š Fixed Frame ç‚º "base_link"
# 2. æ·»åŠ  /joint_statesï¼ˆRobotModelï¼‰
# 3. æ·»åŠ  /point_cloud2ï¼ˆPointCloud2ï¼‰
# 4. æ·»åŠ  /tfï¼ˆTFï¼‰
```

---

## è…³æœ¬æ¶æ§‹èªªæ˜

### ç›®éŒ„çµæ§‹

```
/home/roy422/elder_and_dog/
â”œâ”€â”€ TEST.sh                    # ä¸»æ¸¬è©¦è…³æœ¬ï¼ˆ370 è¡Œï¼‰
â”œâ”€â”€ start_go2_simple.sh        # å¿«é€Ÿå•Ÿå‹•é©…å‹•
â”œâ”€â”€ install/                   # ROS2 ç·¨è­¯çµæœ
â”‚   â””â”€â”€ setup.bash             # ç’°å¢ƒè®Šæ•¸
â”œâ”€â”€ src/
â”‚   â””â”€â”€ go2_robot_sdk/
â”‚       â”œâ”€â”€ launch/
â”‚       â”‚   â””â”€â”€ robot.launch.py
â”‚       â”œâ”€â”€ config/
â”‚       â”‚   â”œâ”€â”€ joystick.yaml
â”‚       â”‚   â””â”€â”€ ...
â”‚       â””â”€â”€ ...
â””â”€â”€ docs/
    â””â”€â”€ README.md              # æœ¬æ–‡æª”
```

### æ ¸å¿ƒæ¨¡çµ„

TEST.sh åŒ…å«ä»¥ä¸‹æ¨¡çµ„ï¼š

| æ¨¡çµ„ | åŠŸèƒ½ | è¡Œæ•¸ |
|------|------|------|
| ç’°å¢ƒæª¢æŸ¥ | ROS2/workspace é©—è­‰ | 30 |
| åŸºæœ¬å‹•ä½œ | sit/stand/balance | 60 |
| ç§»å‹•æ§åˆ¶ | forward/backward/left/right/stop | 100 |
| æ„Ÿæ¸¬å™¨ | joint/imu/lidar/odom/state | 80 |
| ç³»çµ±è¨ºæ–· | health/list/help | 100 |

---

## ç‰ˆæœ¬æ­·å²

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´å…§å®¹ |
|------|------|---------|
| v1.0 | 2025/11/18 | åˆå§‹ç‰ˆæœ¬ï¼ˆP0 åŠŸèƒ½å®Œæˆï¼‰ |

---

## ç›¸é—œæ–‡ä»¶

- [README.md](./README.md) - é–‹ç™¼æ–‡ä»¶ç¸½è¦½
- [environment_setup_ubuntu.md](./environment_setup_ubuntu.md) - ç’°å¢ƒè¨­ç½®
- [package_structure.md](./package_structure.md) - å¥—ä»¶çµæ§‹

---

## æ”¯æ´èˆ‡åé¥‹

è‹¥é‡åˆ°å•é¡Œï¼Œè«‹ï¼š

1. æª¢æŸ¥æœ¬æ–‡æª”ä¸­çš„[å¸¸è¦‹å•é¡Œ](#å¸¸è¦‹å•é¡Œ)ç« ç¯€
2. åŸ·è¡Œ `bash TEST.sh health` ç¢ºèªç³»çµ±ç‹€æ…‹
3. æŸ¥çœ‹ ROS2 æ—¥èªŒï¼š`~/.ros/log/`
4. æäº¤ GitHub Issueï¼ˆæ¨™ç±¤ `test-script` æˆ– `help-wanted`ï¼‰

---

**æœ€å¾Œæ›´æ–°ï¼š** 2025/11/18
**ç¶­è­·è€…ï¼š** FJU Go2 å°ˆé¡Œçµ„
